#1744053615431 | took 1ms | statement | connection 1| url jdbc:h2:mem:bd

    drop table if exists autor cascade 

    drop table if exists autor cascade ;
#1744053615432 | took 0ms | statement | connection 1| url jdbc:h2:mem:bd

    drop table if exists exemplar cascade 

    drop table if exists exemplar cascade ;
#1744053615432 | took 0ms | statement | connection 1| url jdbc:h2:mem:bd

    drop table if exists livro cascade 

    drop table if exists livro cascade ;
#1744053615432 | took 0ms | statement | connection 1| url jdbc:h2:mem:bd

    drop table if exists livro_autor cascade 

    drop table if exists livro_autor cascade ;
#1744053615432 | took 0ms | statement | connection 1| url jdbc:h2:mem:bd

    drop table if exists socio cascade 

    drop table if exists socio cascade ;
#1744053615452 | took 9ms | statement | connection 2| url jdbc:h2:mem:bd

    create table autor (
        id integer generated by default as identity,
        nome varchar(255),
        primary key (id)
    )

    create table autor (
        id integer generated by default as identity,
        nome varchar(255),
        primary key (id)
    );
#1744053615452 | took 0ms | statement | connection 2| url jdbc:h2:mem:bd

    create table exemplar (
        emprestimo_periodo_fim date,
        emprestimo_periodo_inicio date,
        emprestimo_tomador_id integer,
        id integer generated by default as identity,
        livro_id varchar(255),
        primary key (id)
    )

    create table exemplar (
        emprestimo_periodo_fim date,
        emprestimo_periodo_inicio date,
        emprestimo_tomador_id integer,
        id integer generated by default as identity,
        livro_id varchar(255),
        primary key (id)
    );
#1744053615456 | took 2ms | statement | connection 2| url jdbc:h2:mem:bd

    create table livro (
        id varchar(255) not null,
        subtitulo varchar(255),
        titulo varchar(255),
        primary key (id)
    )

    create table livro (
        id varchar(255) not null,
        subtitulo varchar(255),
        titulo varchar(255),
        primary key (id)
    );
#1744053615456 | took 0ms | statement | connection 2| url jdbc:h2:mem:bd

    create table livro_autor (
        autor_id integer not null,
        autor_ordem integer not null,
        livro_id varchar(255) not null,
        primary key (autor_ordem, livro_id)
    )

    create table livro_autor (
        autor_id integer not null,
        autor_ordem integer not null,
        livro_id varchar(255) not null,
        primary key (autor_ordem, livro_id)
    );
#1744053615457 | took 0ms | statement | connection 2| url jdbc:h2:mem:bd

    create table socio (
        id integer generated by default as identity,
        email varchar(255),
        nome varchar(255),
        primary key (id)
    )

    create table socio (
        id integer generated by default as identity,
        email varchar(255),
        nome varchar(255),
        primary key (id)
    );
#1744053615473 | took 14ms | statement | connection 2| url jdbc:h2:mem:bd

    alter table if exists exemplar 
       add constraint FKr3xvhchobeytmwc3xtt99sku 
       foreign key (emprestimo_tomador_id) 
       references socio

    alter table if exists exemplar 
       add constraint FKr3xvhchobeytmwc3xtt99sku 
       foreign key (emprestimo_tomador_id) 
       references socio;
#1744053615474 | took 1ms | statement | connection 2| url jdbc:h2:mem:bd

    alter table if exists exemplar 
       add constraint FKljhp0wb3v5vyf0h77j9tgt3ca 
       foreign key (livro_id) 
       references livro

    alter table if exists exemplar 
       add constraint FKljhp0wb3v5vyf0h77j9tgt3ca 
       foreign key (livro_id) 
       references livro;
#1744053615476 | took 1ms | statement | connection 2| url jdbc:h2:mem:bd

    alter table if exists livro_autor 
       add constraint FKh8a7svq7imi1xed9a841d6ny 
       foreign key (autor_id) 
       references autor

    alter table if exists livro_autor 
       add constraint FKh8a7svq7imi1xed9a841d6ny 
       foreign key (autor_id) 
       references autor;
#1744053615477 | took 1ms | statement | connection 2| url jdbc:h2:mem:bd

    alter table if exists livro_autor 
       add constraint FKem69shkypgmaj1rp2slfdfymx 
       foreign key (livro_id) 
       references livro

    alter table if exists livro_autor 
       add constraint FKem69shkypgmaj1rp2slfdfymx 
       foreign key (livro_id) 
       references livro;
#1744053617625 | took 5ms | statement | connection 3| url jdbc:h2:mem:bd
insert into autor (nome,id) values (?,default)
insert into autor (nome,id) values ('Andrew Tanenbaum',default);
#1744053617686 | took 0ms | commit | connection 3| url jdbc:h2:mem:bd

;
#1744053617691 | took 0ms | statement | connection 4| url jdbc:h2:mem:bd
insert into autor (nome,id) values (?,default)
insert into autor (nome,id) values ('Ian Sommerville',default);
#1744053617691 | took 0ms | commit | connection 4| url jdbc:h2:mem:bd

;
#1744053617693 | took 0ms | statement | connection 5| url jdbc:h2:mem:bd
insert into autor (nome,id) values (?,default)
insert into autor (nome,id) values ('Marco Tulio Valente',default);
#1744053617693 | took 0ms | commit | connection 5| url jdbc:h2:mem:bd

;
#1744053617731 | took 5ms | statement | connection 6| url jdbc:h2:mem:bd
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id=?
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id='8582605609';
#1744053617754 | took 0ms | statement | connection 6| url jdbc:h2:mem:bd
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=?
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=1;
#1744053617780 | took 0ms | statement | connection 6| url jdbc:h2:mem:bd
insert into livro (subtitulo,titulo,id) values (?,?,?)
insert into livro (subtitulo,titulo,id) values (NULL,'Redes de Computadores','8582605609');
#1744053617793 | took 0ms | statement | connection 6| url jdbc:h2:mem:bd
insert into livro_autor (livro_id,autor_ordem,autor_id) values (?,?,?)
insert into livro_autor (livro_id,autor_ordem,autor_id) values ('8582605609',0,1);
#1744053617794 | took 0ms | commit | connection 6| url jdbc:h2:mem:bd

;
#1744053617796 | took 0ms | statement | connection 7| url jdbc:h2:mem:bd
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id=?
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id='8543005671';
#1744053617798 | took 0ms | statement | connection 7| url jdbc:h2:mem:bd
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=?
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=1;
#1744053617799 | took 0ms | statement | connection 7| url jdbc:h2:mem:bd
insert into livro (subtitulo,titulo,id) values (?,?,?)
insert into livro (subtitulo,titulo,id) values (NULL,'Sistemas Operacionais Modernos','8543005671');
#1744053617800 | took 0ms | statement | connection 7| url jdbc:h2:mem:bd
insert into livro_autor (livro_id,autor_ordem,autor_id) values (?,?,?)
insert into livro_autor (livro_id,autor_ordem,autor_id) values ('8543005671',0,1);
#1744053617800 | took 0ms | commit | connection 7| url jdbc:h2:mem:bd

;
#1744053617801 | took 0ms | statement | connection 8| url jdbc:h2:mem:bd
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id=?
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id='8543024978';
#1744053617802 | took 0ms | statement | connection 8| url jdbc:h2:mem:bd
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=?
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=2;
#1744053617803 | took 0ms | statement | connection 8| url jdbc:h2:mem:bd
insert into livro (subtitulo,titulo,id) values (?,?,?)
insert into livro (subtitulo,titulo,id) values (NULL,'Engenharia de Software','8543024978');
#1744053617804 | took 0ms | statement | connection 8| url jdbc:h2:mem:bd
insert into livro_autor (livro_id,autor_ordem,autor_id) values (?,?,?)
insert into livro_autor (livro_id,autor_ordem,autor_id) values ('8543024978',0,2);
#1744053617804 | took 0ms | commit | connection 8| url jdbc:h2:mem:bd

;
#1744053617805 | took 0ms | statement | connection 9| url jdbc:h2:mem:bd
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id=?
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id='6500019504';
#1744053617806 | took 0ms | statement | connection 9| url jdbc:h2:mem:bd
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=?
select aj1_0.id,aj1_0.nome from autor aj1_0 where aj1_0.id=3;
#1744053617807 | took 0ms | statement | connection 9| url jdbc:h2:mem:bd
insert into livro (subtitulo,titulo,id) values (?,?,?)
insert into livro (subtitulo,titulo,id) values (NULL,'Engenharia de Software Moderna','6500019504');
#1744053617808 | took 0ms | statement | connection 9| url jdbc:h2:mem:bd
insert into livro_autor (livro_id,autor_ordem,autor_id) values (?,?,?)
insert into livro_autor (livro_id,autor_ordem,autor_id) values ('6500019504',0,3);
#1744053617809 | took 0ms | commit | connection 9| url jdbc:h2:mem:bd

;
#1744053617811 | took 0ms | statement | connection 10| url jdbc:h2:mem:bd
insert into socio (email,nome,id) values (?,?,default)
insert into socio (email,nome,id) values (NULL,'Saulo',default);
#1744053617812 | took 0ms | commit | connection 10| url jdbc:h2:mem:bd

;
#1744053617819 | took 0ms | statement | connection 11| url jdbc:h2:mem:bd
select null,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id=?
select null,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id='8543005671';
#1744053617820 | took 0ms | statement | connection 11| url jdbc:h2:mem:bd
insert into exemplar (emprestimo_periodo_fim,emprestimo_periodo_inicio,emprestimo_tomador_id,livro_id,id) values (?,?,?,?,default)
insert into exemplar (emprestimo_periodo_fim,emprestimo_periodo_inicio,emprestimo_tomador_id,livro_id,id) values (NULL,NULL,NULL,'8543005671',default);
#1744053617821 | took 0ms | commit | connection 11| url jdbc:h2:mem:bd

;
#1744053617824 | took 0ms | statement | connection 12| url jdbc:h2:mem:bd
select null,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id=?
select null,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0 where lj1_0.id='8543005671';
#1744053617830 | took 0ms | statement | connection 12| url jdbc:h2:mem:bd
insert into exemplar (emprestimo_periodo_fim,emprestimo_periodo_inicio,emprestimo_tomador_id,livro_id,id) values (?,?,?,?,default)
insert into exemplar (emprestimo_periodo_fim,emprestimo_periodo_inicio,emprestimo_tomador_id,livro_id,id) values ('2025-04-14T00:00:00.000-0300','2025-04-07T00:00:00.000-0300',1,'8543005671',default);
#1744053617831 | took 0ms | commit | connection 12| url jdbc:h2:mem:bd

;
#1744053617919 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo from livro lj1_0;
#1744053617925 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id=?
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id='8582605609';
#1744053617934 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id=?
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id='8582605609';
#1744053617937 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id=?
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id='8543005671';
#1744053617942 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id=?
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id='8543005671';
#1744053617943 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id=?
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id='8543024978';
#1744053617945 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id=?
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id='8543024978';
#1744053617946 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id=?
select e1_0.livro_id,e1_0.id,e1_0.emprestimo_periodo_fim,e1_0.emprestimo_periodo_inicio,t1_0.id,t1_0.email,t1_0.nome from exemplar e1_0 left join socio t1_0 on t1_0.id=e1_0.emprestimo_tomador_id where e1_0.livro_id='6500019504';
#1744053617947 | took 0ms | statement | connection 13| url jdbc:h2:mem:bd
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id=?
select a1_0.livro_id,a1_0.autor_ordem,a1_1.id,a1_1.nome from livro_autor a1_0 join autor a1_1 on a1_1.id=a1_0.autor_id where a1_0.livro_id='6500019504';
#1744053617947 | took 0ms | commit | connection 13| url jdbc:h2:mem:bd

;
#1744053618028 | took 3ms | statement | connection 14| url jdbc:h2:mem:bd
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo,a1_1.id,a1_1.nome,count(e1_0.id),(select count(*) from exemplar e2_0 where lj1_0.id=e2_0.livro_id) from livro lj1_0 join livro_autor a1_0 on lj1_0.id=a1_0.livro_id join autor a1_1 on a1_1.id=a1_0.autor_id left join exemplar e1_0 on lj1_0.id=e1_0.livro_id and e1_0.emprestimo_periodo_fim is null and e1_0.emprestimo_periodo_inicio is null and e1_0.emprestimo_tomador_id is null where a1_0.autor_ordem=0 group by lj1_0.id,a1_1.id order by lj1_0.titulo
select lj1_0.id,lj1_0.subtitulo,lj1_0.titulo,a1_1.id,a1_1.nome,count(e1_0.id),(select count(*) from exemplar e2_0 where lj1_0.id=e2_0.livro_id) from livro lj1_0 join livro_autor a1_0 on lj1_0.id=a1_0.livro_id join autor a1_1 on a1_1.id=a1_0.autor_id left join exemplar e1_0 on lj1_0.id=e1_0.livro_id and e1_0.emprestimo_periodo_fim is null and e1_0.emprestimo_periodo_inicio is null and e1_0.emprestimo_tomador_id is null where a1_0.autor_ordem=0 group by lj1_0.id,a1_1.id order by lj1_0.titulo;
